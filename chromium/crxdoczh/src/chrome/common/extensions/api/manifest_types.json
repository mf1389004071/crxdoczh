// Copyright 2013 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

// The type schemas for structured manifest items. Not actually a callable API.

[
  {
    "namespace": "manifestTypes",
    "description": "Schemas for structured manifest entries",
    "compiler_options": {
      "generate_error_messages": true
    },
    "types": [
      {
        "id": "ExternallyConnectable",
        "type": "object",
        // Note: description commented out because externally_connectable.html
        // already describes it, and the repetition looks odd.
        // "description": "The <code>externally_connectable</code> manifest property declares which extensions, apps, and web pages can connect to your extension via $(ref:runtime.connect) and $(ref:runtime.sendMessage).",
        "properties": {
          "ids": {
//@            "description": "<p>The IDs of extensions or apps that are allowed to connect. If left empty or unspecified, no extensions or apps can connect.</p><p>The wildcard <code>\"*\"</code> will allow all extensions and apps to connect.</p>",
            "description": "<p>允许连接的扩展程序或应用的标识符。如果为空或未指定，任何扩展程序或应用都不能连接。</p><p>通配符 <code>\"*\"</code> 允许所有扩展程序和应用连接。</p>",
            "optional": true,
            "type": "array",
            "items": {"type": "string"}
          },
          "matches": {
//@            "description": "<p>The URL patterns for <em>web pages</em> that are allowed to connect. <em>This does not affect content scripts.</em> If left empty or unspecified, no web pages can connect.</p><p>Patterns cannot include wildcard domains nor subdomains of <a href=\"http://publicsuffix.org/list/\">(effective) top level domains</a>; <code>*://google.com/*</code> and <code>http://*.chromium.org/*</code> are valid, while <code>&lt;all_urls&gt;</code>, <code>http://*/*</code>, <code>*://*.com/*</code>, and even <code>http://*.appspot.com/*</code> are not.</p>",
            "description": "<p>允许连接的<em>网页</em>的 URL 匹配表达式，<em>并不会影响内容脚本。</em>如果为空或未指定，任何网页都不能连接。</p><p>表达式不能包含通配符域名，也不能包含<a href=\"http://publicsuffix.org/list/\">（有效）顶级域名</a>的子域名。例如 <code>*://google.com/*</code> 和 <code>http://*.chromium.org/*</code> 是有效的，但 <code>&lt;all_urls&gt;</code>、<code>http://*/*</code>、<code>*://*.com/*</code> 甚至是 <code>http://*.appspot.com/*</code> 就不行。</p>",
            "optional": true,
            "type": "array",
            "items": {"type": "string"}
          },
          "accepts_tls_channel_id": {
//@            "description": "If <code>true</code>, messages sent via $(ref:runtime.connect) or $(ref:runtime.sendMessage) will set $(ref:runtime.MessageSender.tlsChannelId) if those methods request it to be. If <code>false</code>, $(ref:runtime.MessageSender.tlsChannelId) will never be set under any circumstance.",
            "description": "如果为 <code>true</code>，并且调用 $(ref:runtime.connect) 或 $(ref:runtime.sendMessage) 时请求 TLS 通道标识符，发送的消息会设置 $(ref:runtime.MessageSender.tlsChannelId)。如果为 <code>false</code>，在任何情况下都不会设置 $(ref:runtime.MessageSender.tlsChannelId)。",
            "optional": true,
            "type": "boolean"
          }
        }
      },
      {
        "id": "ChromeSettingsOverrides",
        "type": "object",
//@        "description": "Chrome settings which can be overriden by an extension.",
        "description": "可以由扩展程序重写的 Chrome 浏览器设置。",
        "properties": {
          // TODO(wittman): Remove for M37.
          "bookmarks_ui": {
            "type": "object",
//@            "description": "Settings to permit bookmarks user interface customization by extensions.",
            "description": "允许扩展程序自定义书签用户界面的设置。",
            "optional": true,
            "nodoc": true,
            "properties": {
              "remove_button": {
                "type": "boolean",
//@                "description": "If <code>true</code>, the built-in bookmark button will be removed from the user interface.",
                "description": "如果为 <code>true</code>，内建的书签按钮会从用户界面中移除。",
                "optional": true
              },
              "remove_bookmark_shortcut": {
                "type": "boolean",
//@                "description": "If <code>true</code>, the built-in \"Bookmark this page...\" shortcut key is removed and the extension is permitted to override the shortcut by binding it in the commands section of the manifest. The corresponding menu item is also removed or overridden as well.",
                "description": "如果为 <code>true</code>，内建的“为当前网页创建书签...”快捷键将取消，并允许扩展程序在清单文件的 commands 部分绑定该快捷键，相应的菜单项也会删除或重写。",
                "optional": true
              },
              "remove_bookmark_open_pages_shortcut": {
                "type": "boolean",
                "nodoc": true,
                "description": "[Private] If <code>true</code>, the built-in \"Bookmark open pages...\" shortcut key and corresponding menu item is removed.",
                "optional": true
              },
              "hide_bookmark_button": {
                "type": "boolean",
//@                "description": "Deprecated. Use remove_button instead.",
                "description": "已弃用。请使用 remove_button。",
                "optional": true
              }
            }
          },
          "homepage": {
//@            "description": "New value for the homepage.",
            "description": "您指定的主页。",
            "optional": true,
            "type": "string"
          },
          "search_provider": {
            "type": "object",
//@            "description": "A search engine",
            "description": "某个搜索引擎。",
            "optional": true,
            "properties": {
              "name": {
                "type": "string",
//@                "description": "Name of the search engine displayed to user."
                "description": "向用户显示的搜索引擎名称。"
              },
              "keyword": {
                "type": "string",
//@                "description": "Omnibox keyword for the search engine."
                "description": "搜索引擎的多功能框关键字。"
              },
              "favicon_url": {
                "type": "string",
//@                "description": "An icon URL for the search engine."
                "description": "搜索引擎的图标 URL。"
              },
              "search_url": {
                "type": "string",
//@                "description": "An search URL used by the search engine."
                "description": "搜索引擎使用的搜索 URL。"
              },
              "encoding": {
                "type": "string",
//@                "description": "Encoding of the search term."
                "description": "搜索条目的编码。"
              },
              "suggest_url": {
                "type": "string",
                "optional": true,
//@                "description": "If omitted, this engine does not support suggestions."
                "description": "如果省略，该搜索引擎不支持建议。"
              },
              "instant_url": {
                "type": "string",
                "optional": true,
//@                "description": "If omitted, this engine does not support instant."
                "description": "如果省略，该搜索引擎不支持即搜即得。"
              },
              "image_url": {
                "type": "string",
                "optional": true,
//@                "description": "If omitted, this engine does not support image search."
                "description": "如果省略，该搜索引擎不支持图片搜索。"
              },
              "search_url_post_params": {
                "type": "string",
                "optional": true,
//@                "description": "The string of post parameters to search_url"
                "description": "search_url 的 POST 参数字符串。"
              },
              "suggest_url_post_params": {
                "type": "string",
                "optional": true,
//@                "description": "The string of post parameters to suggest_url"
                "description": "suggest_url 的 POST 参数字符串。"
              },
              "instant_url_post_params": {
                "type": "string",
                "optional": true,
                "description": "instant_url 的 POST 参数字符串。"
              },
              "image_url_post_params": {
                "type": "string",
                "optional": true,
                "description": "image_url 的 POST 参数字符串。"
              },
              "alternate_urls": {
                "type": "array",
                "items": { "type": "string" },
                "optional": true,
//@                "description": "A list of URL patterns that can be used, in addition to |search_url|."
                "description": "除了 <code>search_url</code> 以外还可以使用的 URL 列表。"
              },
              "is_default": {
                "type": "boolean",
//@                "description": "Specifies if the search provider should be default."
                "description": "指定是否设置为默认搜索引擎。"
              }
            }
          },
          "startup_pages": {
//@            "description": "URLs to be added to the list of startup pages.",
            "description": "要添加至起始页列表的 URL。",
            "optional": true,
            "type": "array",
            "items": {"type": "string"}
          }
        }
      },
      {
        "id": "ChromeUIOverrides",
        "type": "object",
//@        "description": "Chrome user interface features which can be overriden by an extension.",
        "description": "可以由扩展程序重写的 Chrome 浏览器用户界面特性。",
        "properties": {
          "bookmarks_ui": {
            "type": "object",
//@            "description": "Settings to permit bookmarks user interface customization by extensions.",
            "description": "允许扩展程序自定义书签用户界面的设置。",
            "optional": true,
            "properties": {
              "remove_button": {
                "type": "boolean",
//@                "description": "If <code>true</code>, the built-in bookmark button will be removed from the user interface.",
                "description": "如果为 <code>true</code>，内建的书签按钮会从用户界面中移除。",
                "optional": true
              },
              "remove_bookmark_shortcut": {
                "type": "boolean",
//@                "description": "If <code>true</code>, the built-in \"Bookmark this page...\" shortcut key is removed and the extension is permitted to override the shortcut by binding it in the commands section of the manifest.",
                "description": "如果为 <code>true</code>，内建的“为当前网页创建书签...”快捷键将取消，并允许扩展程序在清单文件的 commands 部分绑定该快捷键。",
                "optional": true
              },
              "remove_bookmark_open_pages_shortcut": {
                "type": "boolean",
                "nodoc": true,
                "description": "[Private] If <code>true</code>, the built-in \"Bookmark open pages...\" shortcut key and corresponding menu item is removed.",
                "optional": true
              }
            }
          }
        }
      },
      {
        "id": "SocketHostPatterns",
//@        "description": "<p>A single string or a list of strings representing host:port patterns.</p>",
        "description": "<p>单个字符串或字符串列表，包含主机:端口匹配表达式。</p>",
        "choices": [
          { "type": "string" },
          { "type": "array", "items": { "type": "string" } }
        ]
      },
      {
        "id": "sockets",
        "type": "object",
//@        "description": "The <code>sockets</code> manifest property declares which sockets operations an app can issue.",
        "description": "清单文件中的 <code>sockets</code> 属性声明应用可以进行的套接字操作。",
        "properties": {
          "udp": {
//@            "description": "The <code>udp</code> manifest property declares which sockets.udp operations an app can issue.",
            "description": "清单文件中的 <code>udp</code> 属性声明应用可以进行的 UDP 套接字操作。",
            "optional": true,
            "type": "object",
            "properties": {
              "bind": {
//@                "description": "<p>The host:port pattern for <code>bind</code> operations.</p>",
                "description": "<p><code>bind</code> 操作的主机:端口匹配表达式。</p>",
                "optional": true,
                "$ref": "SocketHostPatterns"
              },
              "send": {
//@                "description": "<p>The host:port pattern for <code>send</code> operations.</p>",
                "description": "<p><code>send</code> 操作的主机:端口匹配表达式。</p>",
                "optional": true,
                "$ref": "SocketHostPatterns"
              },
              "multicastMembership": {
//@                "description": "<p>The host:port pattern for <code>joinGroup</code> operations.</p>",
                "description": "<p><code>joinGroup</code> 操作的主机:端口匹配表达式。</p>",
                "optional": true,
                "$ref": "SocketHostPatterns"
              }
            }
          },
          "tcp": {
//@            "description": "The <code>tcp</code> manifest property declares which sockets.tcp operations an app can issue.",
            "description": "清单文件中的 <code>tcp</code> 属性声明应用可以进行的 sockets.tcp 操作。",
            "optional": true,
            "type": "object",
            "properties": {
              "connect": {
//@                "description": "<p>The host:port pattern for <code>connect</code> operations.</p>",
                "description": "<p><code>connect</code> 操作的主机：端口匹配表达式。</p>",
                "optional": true,
                "$ref": "SocketHostPatterns"
              }
            }
          },
          "tcpServer": {
//@            "description": "The <code>tcpServer</code> manifest property declares which sockets.tcpServer operations an app can issue.",
            "description": "清单文件中的 <code>tcpServer</code> 属性声明应用可以进行的 sockets.tcpServer 操作。",
            "optional": true,
            "type": "object",
            "properties": {
              "listen": {
//@                "description": "<p>The host:port pattern for <code>listen</code> operations.</p>",
                "description": "<p><code>listen</code>（监听）操作的主机:端口匹配表达式。</p>",
                "optional": true,
                "$ref": "SocketHostPatterns"
              }
            }
          }
        }
      },
      {
        "id": "bluetooth",
        "type": "object",
//@        "description": "The <code>bluetooth</code> manifest property give permission to an app to use the $(ref:bluetooth) API. A list of UUIDs can be optionally specified to enable communication with devices.",
        "description": "清单文件中的 <code>bluetooth</code> 属性为应用提供权限，以便使用 $(ref:bluetooth) API。您可以指定一系列 UUID，允许您的应用与指定设备通信。",
        "properties": {
          "uuids": {
//@            "description": "The <code>uuids</code> manifest property declares the list of protocols, profiles and services that an app can communicate using.",
            "description": "清单文件中的 <code>uuids</code> 属性声明应用可以与之通信的协议、配置文件和服务列表。",
            "optional": true,
            "type": "array",
            "items": {
//@              "description": "<p>The list specified as UUID strings.</p>",
              "description": "<p>UUID 字符串列表。</p>",
              "type": "string"
            }
          }
        }
      }
    ]
  }
]
