// Copyright 2013 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

// The type schemas for structured manifest items. Not actually a callable API.

[
  {
    "namespace": "manifestTypes",
    "description": "Schemas for structured manifest entries",
    "compiler_options": {
      "generate_error_messages": true
    },
    "types": [
      {
        "id": "ExternallyConnectable",
        "type": "object",
        // Note: description commented out because externally_connectable.html
        // already describes it, and the repetition looks odd.
        // "description": "The <code>externally_connectable</code> manifest property declares which extensions, apps, and web pages can connect to your extension via $ref:runtime.connect and $ref:runtime.sendMessage.",
        "properties": {
          "ids": {
//@            "description": "<p>The IDs of extensions or apps that are allowed to connect. If left empty or unspecified, no extensions or apps can connect.</p><p>The wildcard <code>\"*\"</code> will allow all extensions and apps to connect.</p>",
            "description": "<p>允许连接的扩展程序或应用的标识符。如果为空或未指定，任何扩展程序或应用都不能连接。</p><p>通配符 <code>\"*\"</code> 允许所有扩展程序和应用连接。</p>",
            "optional": true,
            "type": "array",
            "items": {"type": "string"}
          },
          "matches": {
//@            "description": "<p>The URL patterns for <em>web pages</em> that are allowed to connect. <em>This does not affect content scripts.</em> If left empty or unspecified, no web pages can connect.</p><p>Patterns cannot include wildcard domains nor subdomains of (effective) top level domains; <code>*://google.com/*</code> and <code>http://*.chromium.org/*</code> are valid, while <code>&lt;all_urls&gt;</code>, <code>http://*/*</code>, <code>*://*.com/*</code>, and even <code>http://*.appspot.com/*</code> are not.</p>",
            "description": "<p>允许连接的<em>网页</em>的 URL 匹配表达式，<em>并不会影响内容脚本。</em>如果为空或未指定，任何网页都不能连接。</p><p>表达式不能包含通配符域名，也不能包含（有效）顶级域名的子域名。例如 <code>*://google.com/*</code> 和 <code>http://*.chromium.org/*</code> 是有效的，但 <code>&lt;all_urls&gt;</code>、<code>http://*/*</code>、<code>*://*.com/*</code> 甚至是 <code>http://*.appspot.com/*</code> 就不行。</p>",
            "optional": true,
            "type": "array",
            "items": {"type": "string"}
          }
        }
      }
    ]
  }
]
