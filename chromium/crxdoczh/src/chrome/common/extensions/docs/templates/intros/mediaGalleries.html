<h2 id="usage"><!--@Usage-->用法</h2>

<p><!--@The mediaGalleries API lets you prompt the user for permission to access
media galleries on the user's computer. The permission dialog contains common
media locations for the platform and allows the user to specify additional
locations. From those locations, only media files will be present in the file
system objects.-->
媒体库 API
让您提示用户，请求访问用户计算机上媒体库的权限。权限对话框包含当前平台上常用的媒体位置，并允许用户指定其他位置。在这些位置中，只有媒体文件才会在文件系统对象中出现。
</p>

<h2 id="manifest"><!--@Manifest-->清单文件</h2>

<p><!--@The media galleries API has two axes of permission parameters:-->
媒体库 API 有两种权限参数：
</p>

<ul>
  <li><!--@the locations that can be accessed-->可以访问的位置</li>
  <li><!--@the type of access-->访问类型</li>
</ul>

<p><!--@These two axes and the permission parameters on each axis are described
in the table below:-->
这两种类型以及每一种类型的权限参数如下表所述：
</p>

<table>
    <tr>
      <th><!--@Axis-->类型</th>
      <th><!--@Parameter-->参数</th>
      <th><!--@Effect-->效果</th>
    </tr>
    <tr>
      <td rowspan="2"><!--@Locations-->位置</td>
      <td><!--@none-->无</td>
      <td>
        <!--@If you do not specify a location permission parameter, your app will
        not be able to access any media galleries until the user grants
        permission to access specific media galleries at runtime using the
        media gallery permission dialog.-->
        如果您不指定位置权限参数，只有在运行时用户使用媒体库权限对话框授予访问指定媒体库的权限后，才能访问媒体库。
      </td>
    </tr>
    <tr>
      <td>"allAutoDetected"</td>
      <td>
        <!--@Grants your app access to all auto-detected media galleries on the
        user's computer. This permission causes an install-time prompt to be
        displayed indicating that the app will have access to the user's media
        files.-->
        授予您的应用访问用户计算机上所有自动检测到的媒体库的权限，该权限使得应用安装时显示提示，表示应用可以访问用户的媒体文件。
      </td>
    </tr>
    <tr>
      <td rowspan="2"><!--@Access&nbsp;type-->访问类型</td>
      <td>"read"</td>
      <td><!--@Grants your app the right to read files in media galleries.-->
      授予您的应用读取媒体库文件的权限。
      </td>
    </tr>
    <tr>
      <td>"copyTo"</td>
      <td>
        <!--@Grants your app the right to copy files into media galleries.
        Only valid media files that Chrome is capable of playing or displaying
        are permitted; files that Chrome is not able to validate will result
        in a security error.-->
        授予您的应用向媒体库复制文件的权限，只允许 Chrome
        浏览器能够播放或显示的有效媒体文件，复制 Chrome
        浏览器无法验证的文件将导致安全错误。
      </td>
    </tr>
</table>

<p><!--@Notes:-->注意：</p>
<ul>
  <li><!--@The media gallery permission dialog can be triggered programmatically.
  The user may have alternate media locations, so even if you specify
  "allAutoDetected" permsission, it is still important to provide a mechanism
  to open the permission dialog in your app.-->
  媒体库权限对话框可以以编程方式触发。用户可能还有其他媒体位置，所以即使您指定了
  "allAutoDetected" 权限，您也应当在您的应用中提供某种方式打开权限对话框。
  </li>

  <li><!--@There is no write access to media galleries due to the
  file validation requirement. However, you can write files to
  a different file system like the temporary file system, and then copy
  the files into the desired media gallery.-->
  由于文件验证的要求，没有对媒体库的写入权限。然而，您可以将文件写入另一个文件系统，如临时文件系统，然后将这些文件复制到期望的媒体库中。
  </li>

  <li><!--@You can specify "read" and "copyTo" to obtain both types of permissions
  to media galleries.-->
  您可以同时指定 "read" 和 "copyTo" 权限，获得这两种媒体库的访问权限。
  </li>

  <li><!--@Access type permissions do not trigger an install-time prompt
  by themselves. However, the type of access will be reflected in the
  media gallery permission dialog, as well as the install-time prompt if
  "allAutoDetected" permission is requested.-->
  访问类型权限本身不会触发安装时的提示，但是访问类型会在媒体库权限对话框和安装时的提示（如果请求了 "allAutoDetected" 权限）中反映出来
  </li>
</ul>

<p><!--@Below is an example of a manifest file with mediaGalleries permissions:-->
如下是指定媒体库权限的清单文件的例子：
</p>

<pre>{
  "name": "我的应用",
  ...
  "permissions": [
    <b>{ "mediaGalleries": ["read", "allAutoDetected"] }</b>
  ],
  ...
}</pre>

<p><!--@This example manifest file will trigger an install-time permission prompt,
and let the app read from all auto-detected media galleries on the
user's computer. The user may add or remove galleries using the
media gallery permission dialog, after which the app will be able
to read all the media files from galleries that the user selected.-->
这一清单文件的例子在安装时会触发权限提示，让应用读取用户计算机上所有自动检测到的媒体库。用户可以使用媒体库权限对话框添加或删除库，之后应用就能够读取用户选择的库中的所有媒体文件。
</p>
